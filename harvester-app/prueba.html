<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargando...</title>
    <style>
        /* Estilos básicos de la pantalla de carga */
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }
        
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #a61930;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* === CSS del campo de texto modular === */
        .campo {
            display: flex;
            flex-direction: column;
            gap: .5rem;
            margin: 20px auto;
            max-width: 400px;
        }

        .campo label {
            font-size: 1.125rem;
        }

        .campo input {
            padding: .75rem;
            border: 2px solid rgba(0,0,0,.2);
            border-radius: .5rem;
            font-size: 1rem;
        }

        /* Mensajes de error bajo los campos */
        .mensajeError {
            display: none;          /* oculto por defecto */
            color: #e63946;         /* letra roja */
            font-size: 0.875rem;    /* un poco más pequeña que el texto normal */
            min-height: 1em;        /* reserva espacio aunque esté vacío */
            margin-top: 0.25rem;    /* separación con el input */
        }

        /* Input en estado de error: borde en rojo */
        .inputError {
            border-color: #e63946 !important;
        }

        /* Cuando el input tenga clase .input-error, muestra el mensaje bajo él */
        .inputError + .mensajeError {
            display: block;
        }
        
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px auto;
            max-width: 500px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .test-title {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }
        
        .demo-button {
            background: #a61930;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
    </style>
</head>
<body>
    <div class="loader"></div>
    
    <div class="test-container">
        <h2 class="test-title">Prueba del Componente Campo de Texto</h2>
        
        <!-- Campo de texto normal -->
        <div class='campo'>
            <label for='username'>Nombre del usuario</label>
            <input
                type='text'
                id='username'
                name='username'
                placeholder='Nombre del nuevo usuario'
                required
                maxlength="55"
            />
            <small id='mensajeErrorNombre' class='mensajeError'></small>
        </div>
        
        <!-- Campo de email -->
        <div class='campo'>
            <label for='email'>Correo electrónico</label>
            <input
                type='email'
                id='email'
                name='email'
                placeholder='correo@ejemplo.com'
                required
                maxlength="55"
            />
            <small id='mensajeErrorCorreo' class='mensajeError'></small>
        </div>
        
        <!-- Campo de contraseña -->
        <div class='campo'>
            <label for='password'>Contraseña</label>
            <input
                type='password'
                id='password'
                name='password'
                placeholder='Ingresa tu contraseña'
                required
                maxlength="55"
            />
            <small id='mensajeErrorContrasenia' class='mensajeError'></small>
        </div>
        
        <!-- Botones para probar estados de error -->
        <div style="text-align: center; margin-top: 20px;">
            <button class="demo-button" onclick="mostrarError('username', 'mensajeErrorNombre', 'El nombre es requerido')">Error en Nombre</button>
            <button class="demo-button" onclick="mostrarError('email', 'mensajeErrorCorreo', 'Email inválido')">Error en Email</button>
            <button class="demo-button" onclick="mostrarError('password', 'mensajeErrorContrasenia', 'Contraseña muy corta')">Error en Contraseña</button>
            <button class="demo-button" onclick="limpiarErrores()">Limpiar Errores</button>
        </div>
    </div>

    <script>
        // Funciones para probar los estados de error
        function mostrarError(inputId, errorId, mensaje) {
            const input = document.getElementById(inputId);
            const errorElement = document.getElementById(errorId);
            
            input.classList.add('inputError');
            errorElement.textContent = mensaje;
            errorElement.style.display = 'block';
        }
        
        function limpiarErrores() {
            const inputs = document.querySelectorAll('.campo input');
            const errors = document.querySelectorAll('.mensajeError');
            
            inputs.forEach(input => input.classList.remove('inputError'));
            errors.forEach(error => {
                error.textContent = '';
                error.style.display = 'none';
            });
        }
        
        // Simulación del script de pantalla de carga
        setTimeout(() => {
            console.log("Pantalla de carga completada");
        }, 2000);
    </script>
</body>
</html>